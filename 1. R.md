### 反思
 最近一段时间都很浮躁，学习得过且过，走马观花，经常犯很多错误。研究生正是学习的重要时刻，老师带着的时候还不努力学习真的是蠢透了。好在能发现错误，及时纠正便是进步，从头开始。踏踏实实的，去静下心来学习吧吾日三省吾身，不能偷懒，不能混日子，不能像本科时候那样天天不思进取。

##### 以下内容完全是根据我的大神导师小康老师的课件学习记录的。超级喜欢这个简单又纯粹的老师～哈哈哈～能遇见成为师生也是极大的缘分了～这里大约是我对老师讲的内容的一次理解和精简。毕竟老师是个格式控完美党，他看见我写的会疯掉。但是读完我这个傻白甜版本再去看老师的版本就会发现！老师的版本是真的全面易懂。额，所以我这是在光明正大的做笔记顺便分享呢。人都是在一个个flag中成长的。分享出来才有进步的动力。嘻嘻嘻。
 
## 前期准备
### R 安装与设置
R 是一个免费自由且跨平台通用的统计计算与绘图软件，它有 Windows、Mac、Linux 等版本，均可免费下载使用。R 项目截止2017年10月，已发布到 3.4.2 版本。凭借其开源、免费、自由等开放式理念，R 迅速获得流行，目前已成为学术研究和商业应用领域最为常用的数据分析软件之一。

从[ R 主页](https://www.r-project.org/)中选择[ download R ](https://cran.r-project.org/mirrors.html)链接可下载到对应操作系统的 R 安装程序。打开链接后的网页会提示选择相应的[ CRAN ](https://cran.r-project.org/mirrors.html)，目前全球有超过一百个 CRAN 镜像站 ，用户可选择就近下载。Windows 平台下也可直接点击如下链接

<http://cran.r-project.org/bin/windows/base/release.htm> 

直接下载最新版的 R 进行安装。
### R包安装与加载：
R包实际上就是各种插件（我自己认为的），里面有不同函数以供使用。
三种安装方式：
#### 1.在线安装：
命令为 `install.packages(" ")` `" "` 中填写安装包名称。例如：
```r
install.packages("dplyr")
```
若想一次性安装多个包，则如下
```r
install.packages(c("package A","package B"))
```
即：使用`c()`将不同包进行联结，中间加逗号。字母`c`正是联结的意思。

强势安利：请将以下命令拷贝粘贴到R软件中运行，居家旅行，统计分析必备良包。网速好的话没几分钟就安装完了。
```r
install.packages(c("ggplot2","dplyr","tidyr","stringr","lubridate","reader","readx1","haven","httr","rvest","xml2","devtools","tidyverse"))
```
备注：

确保联网。

此命令中不能省略引号。

首次安装R包时会出现镜像选择，请选择国内镜像，如清华大学、广州大学等。

在R中所有的符号都需使用英文符号
#### 2.离线安装：
不太常用。就不详细写了，有兴趣移步小康老师主页~~
#### 3.GitHub 安装：
一些新的包，可能CRAN上没有，可以去github中安装。建议使用Hadley开发的 **devtools**包安装完成。以下是基本步骤。

1.安装**devtools**包（复习使用第一种安装方法）
2.加载该包，即输入`library(devtools)`。
3.使用其中的`install_github()`函数完成安装。

例如：
```r
install.packages("devtools")
library(devtools)
install_github("hadlly/dplyr)
```
为了更好使用github和R的相关功能建议windows用户安装 [`Rtools`](https://cran.r-project.org/bin/windows/Rtools/)
这是用于在 Windows 平台下开发 R 包和 R 本身的软件插件。
R 与和后面即将介绍 RStudio 都可以安装 R 包，一般建议用 R 自身安装 R 包。
### R 包加载与使用
R中内置的少数函数以及**base**包中的函数可以直接调用，无需加载。但是多数函数都在其他包中，若要使用进行数据分析，首先需要加载这些包，有两种方式。

1.使用加载命令`library()`，此时的包不需要加引号。
```r
library(dplyr)
```
加载该包之后，就可以使用其中的`filter()、lag()`等函数。原基础安装包中的同名函数将被覆盖。

2.用双冒号`::`的形式调用某一函数，用法为`package_name::function_name`，即先写包名，双冒号后写入函数名称。
```{r}
dplyr::sample_n(mtcars,2)
```
即，使用**dplyr**包中的`sample_n`函数，从`mtcars`数据中任取两行。
#### 工作目录设置
R 默认读入和写出的数据对象都存储在当前工作目录（working directiory）中。若要读入其他目录中对象，则需要指定工作路径。一般而言，开始某个数据分析项目时，即可新建一个目录并将其设定为当前工作目录。此后所有的数据对象均储存其中。对中文操作系统的分析者而言，首先需要明确一条**基本命名规则**：R 中的目录名和文件名不能有中文，而只使用英文字母、数字以及 `-` 和 `_` 的组合。建议在非系统盘的根目录下建立数据分析目录。创建新目录可以直接在操作系统中进行，也可以在R中使用命令`dir.creat(" ")`建立新目录，`" "`中输入路径名和目录名。如
```r
dir.creat("d:/R2017")
```
此时就可以在D盘中找到该文件夹。

**注意**：R中的路径分隔符尾正斜杠（forward slash）`/`。
若已经创建目录，可以通过命令`setwd()`将该目录设为当前工作路径，如：
```r
setwd("D:/R2017/course01")
```
R 路径名中的撇斜杠`/`也可写成双捺斜杠`\\`的形式，如：

```r
setwd("D:\\R2017\\course01")
```
设置完毕后，可通过`getwd()`命令查看当前工作路径，此时括号中不需要填入任何内容。

### 语言选项设置

安装完 R 后的第一项设置，可考虑修改默认语言选项，将其设为英文。
为一劳永逸不再次次重新设置，方法步骤如下：
1. 找到安装路径下`etc`文件夹中的`Rconsole`文件。如选择默认安装方式，R 通常安装在 C 盘的 Program Files 目录下。以本人写作此文档时的 R 版本为例，其路径为：`C:\Program Files\R\R-3.4.2\etc`。

2. 用文本编辑器打开`Rconsole`文件。建议安装[ Notepad++](https://notepad-plus-plus.org/) 软件而不是使用 Windows 自带的记事本软件打开。如有可能，Windows 平台下尽可能使用 Notepad++ 而不是其自带的记事本软件创建或修改文本文件。若是 Mac 系统，可使用 [Sublime](https://www.sublimetext.com/) 软件或其他开源文本编辑器打开。找到以下文字：
```r
## Language for messages
language = 
```
3. 通常来说，`=`号后面默认是空白，以便调用 Windows 的默认语言。在 `=`后填入指定的语言缩写`en`，保存修改后关闭该文档，即可永久性修改默认语言设置。
```r
## Language for messages
language = en
```
其中`en`就表示 English 。保存后关闭（Windows 系统可能会提醒需要管理员权限方可修改，点击确定），重新打开 R ，应当可以看到所
有提示文字已变为英文。

实际上，对有经验的Windows用户来说，设置 R 的默认语言为英文的最简便方式是在安装 R 时，出现`Select Components`对话框后，将里面出现的`Message Translation`选项前面默认出现的勾去掉，即可保证界面和提示语言为英文。你不妨在安装新版本的 R 时尝试这种方法。

最后提醒：使用 R ，即意味着基本告别中文操作与提示。应尽快熟练英文环境下的相关操作，这对提升 R 的使用效率至为关键。
